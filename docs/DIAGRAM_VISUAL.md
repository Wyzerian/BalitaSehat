# ğŸ¨ Diagram Visual - BalitaSehat System

## ğŸ“Š Apa yang Tersimpan di Database vs Tidak

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MYSQL DATABASE                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TABLE: children                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ ID     â”‚ Name         â”‚ Gender   â”‚ Birth Date  â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚CHILD001â”‚ Budi Santoso â”‚ laki-lakiâ”‚ 2024-01-15  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TABLE: measurements                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ID â”‚Child ID â”‚ Date â”‚ Age â”‚ Height â”‚ Weight  â”‚   â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚  â”‚
â”‚  â”‚  â”‚ 1  â”‚CHILD001 â”‚12/15 â”‚ 11  â”‚ 73.5   â”‚  9.2    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ 2  â”‚CHILD001 â”‚01/15 â”‚ 12  â”‚ 75.0   â”‚  9.5    â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TABLE: classifications                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ ID â”‚Meas  â”‚ Z-Height   â”‚ Z-Weight   â”‚ Status   â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 1  â”‚  1   â”‚  -0.97     â”‚  -0.42     â”‚ At Risk  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ 2  â”‚  2   â”‚  -0.36     â”‚  -0.10     â”‚ Normal   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†‘
      â”‚ Data ini TERSIMPAN PERMANEN
      â”‚ Bisa diakses kapan saja
      â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SERVER FILES (Backend)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  data/                                                â”‚  â”‚
â”‚  â”‚    - WHO_Boys_Height.csv     â† Standar WHO (tetap)   â”‚  â”‚
â”‚  â”‚    - WHO_Girls_Height.csv                            â”‚  â”‚
â”‚  â”‚    - WHO_Boys_Weight.csv                             â”‚  â”‚
â”‚  â”‚    - WHO_Girls_Weight.csv                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  static/charts/ (Optional - jika generate di backend)â”‚  â”‚
â”‚  â”‚    - CHILD001_growth.png     â† Generated on-demand   â”‚  â”‚
â”‚  â”‚    - CHILD001_zscore.png     â† Bisa dihapus          â”‚  â”‚
â”‚  â”‚    - CHILD002_growth.png                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†‘
      â”‚ File PNG grafik TEMPORARY
      â”‚ Bisa di-generate ulang dari database
      â”‚ Bisa dihapus untuk hemat storage
      â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MOBILE APP                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TIDAK SIMPAN DATA LOKAL                             â”‚  â”‚
â”‚  â”‚  Semua data dari API â†’ Display langsung             â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  Optional: Cache untuk offline viewing              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flow Data Lengkap

### Flow 1: Tambah Pengukuran Baru

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MOBILE APP   â”‚
â”‚              â”‚
â”‚ Input:       â”‚
â”‚ - ID: CH001  â”‚
â”‚ - Nama: Budi â”‚
â”‚ - Gender: L  â”‚
â”‚ - DOB: 01/15 â”‚
â”‚ - Age: 11    â”‚
â”‚ - Height: 73.5â”‚
â”‚ - Weight: 9.2â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /api/child/measurement
       â”‚ (JSON data)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND API (api_server_mysql.py)       â”‚
â”‚                                         â”‚
â”‚ 1. Receive JSON                         â”‚
â”‚ 2. Validate data                        â”‚
â”‚    â†“                                    â”‚
â”‚ 3. Call WHO Classifier                  â”‚
â”‚    (who_classifier.py)                  â”‚
â”‚    - Load WHO standards dari CSV        â”‚
â”‚    - Calculate Z-score                  â”‚
â”‚    - Classify status                    â”‚
â”‚    - Detect risk level                  â”‚
â”‚    - Generate warnings & recommendationsâ”‚
â”‚    â†“                                    â”‚
â”‚ 4. Save to MySQL Database               â”‚
â”‚    - INSERT into children               â”‚
â”‚    - INSERT into measurements           â”‚
â”‚    - INSERT into classifications        â”‚
â”‚    â†“                                    â”‚
â”‚ 5. Check ada pengukuran sebelumnya?     â”‚
â”‚    â”œâ”€ NO: Return klasifikasi saja       â”‚
â”‚    â””â”€ YES: Generate trend analysis      â”‚
â”‚       (growth_tracker_mysql.py)         â”‚
â”‚       - Compare dengan pengukuran lama  â”‚
â”‚       - Calculate change per month      â”‚
â”‚       - Detect trend (naik/turun/stabil)â”‚
â”‚       - Predict next month              â”‚
â”‚       - INSERT into trend_analysis      â”‚
â”‚    â†“                                    â”‚
â”‚ 6. Build JSON response                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Return JSON response
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MOBILE APP                   â”‚
â”‚                              â”‚
â”‚ Display:                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ HASIL PENGUKURAN         â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ Budi Santoso, 11 bulan   â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ ğŸ“ Tinggi: 73.5 cm       â”‚ â”‚
â”‚ â”‚    Status: âš ï¸ At Risk    â”‚ â”‚
â”‚ â”‚    Z-score: -0.97        â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ âš–ï¸ Berat: 9.2 kg         â”‚ â”‚
â”‚ â”‚    Status: âœ… Normal     â”‚ â”‚
â”‚ â”‚    Z-score: -0.42        â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ ğŸš¨ Risk: MEDIUM          â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ âš ï¸ Peringatan:           â”‚ â”‚
â”‚ â”‚ - Tinggi di bawah median â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ ğŸ’¡ Rekomendasi:          â”‚ â”‚
â”‚ â”‚ - Konsultasi ahli gizi   â”‚ â”‚
â”‚ â”‚ - Ukur ulang bulan depan â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Flow 2: Lihat Riwayat & Grafik

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MOBILE APP   â”‚
â”‚              â”‚
â”‚ User klik:   â”‚
â”‚ "Lihat       â”‚
â”‚  Riwayat     â”‚
â”‚  Budi"       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ GET /api/child/CHILD001/history
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND API                     â”‚
â”‚                                 â”‚
â”‚ 1. Query MySQL:                 â”‚
â”‚    SELECT * FROM measurements   â”‚
â”‚    WHERE child_id = 'CHILD001'  â”‚
â”‚    JOIN classifications         â”‚
â”‚    ORDER BY measurement_date    â”‚
â”‚    â†“                            â”‚
â”‚ 2. Convert to JSON array        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Return JSON with all measurements
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MOBILE APP                             â”‚
â”‚                                        â”‚
â”‚ Received data:                         â”‚
â”‚ [                                      â”‚
â”‚   {                                    â”‚
â”‚     date: "2024-12-15",                â”‚
â”‚     age: 11,                           â”‚
â”‚     height: 73.5,                      â”‚
â”‚     weight: 9.2,                       â”‚
â”‚     z_height: -0.97,                   â”‚
â”‚     z_weight: -0.42                    â”‚
â”‚   },                                   â”‚
â”‚   {                                    â”‚
â”‚     date: "2025-01-15",                â”‚
â”‚     age: 12,                           â”‚
â”‚     height: 75.0,                      â”‚
â”‚     weight: 9.5,                       â”‚
â”‚     z_height: -0.36,                   â”‚
â”‚     z_weight: -0.10                    â”‚
â”‚   }                                    â”‚
â”‚ ]                                      â”‚
â”‚                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ OPTION A: Display as Table/List   â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚ Riwayat Pengukuran Budi Santoso    â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Date â”‚ Age â”‚ Height â”‚ Weight  â”‚ â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚ â”‚ â”‚12/15 â”‚ 11  â”‚ 73.5   â”‚  9.2    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚01/15 â”‚ 12  â”‚ 75.0   â”‚  9.5    â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ OPTION B: Generate Chart           â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚ Grafik Pertumbuhan Tinggi          â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚     76 â”¤                        â€¢  â”‚ â”‚
â”‚ â”‚        â”‚                    â€¢      â”‚ â”‚
â”‚ â”‚     75 â”¤                â€¢          â”‚ â”‚
â”‚ â”‚        â”‚            â€¢              â”‚ â”‚
â”‚ â”‚     74 â”¤        â€¢                  â”‚ â”‚
â”‚ â”‚        â”‚    â€¢                      â”‚ â”‚
â”‚ â”‚     73 â”¤â€¢                          â”‚ â”‚
â”‚ â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚ â”‚         11   12   13   14 (bulan)  â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚ (Generated with MPAndroidChart)    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Data Storage Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APA YANG DISIMPAN DI MANA?                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MySQL Database:
â”œâ”€ children table
â”‚  â””â”€ ID, Nama, Gender, Tanggal Lahir
â”‚     Size: ~100 bytes per child
â”‚     Permanent: âœ… Ya
â”‚
â”œâ”€ measurements table
â”‚  â””â”€ Tinggi, Berat, Umur, Tanggal
â”‚     Size: ~50 bytes per measurement
â”‚     Permanent: âœ… Ya
â”‚
â”œâ”€ classifications table
â”‚  â””â”€ Z-score, Status, Risk Level, Warnings, Recommendations
â”‚     Size: ~500 bytes per measurement
â”‚     Permanent: âœ… Ya
â”‚
â””â”€ trend_analysis table
   â””â”€ Trend (naik/turun), Perubahan per bulan, Prediksi
      Size: ~200 bytes per analysis
      Permanent: âœ… Ya

Total Storage untuk 1000 anak dengan 12 pengukuran masing-masing:
= 1000 Ã— (100 + 12Ã—50 + 12Ã—500 + 12Ã—200)
= 1000 Ã— (100 + 600 + 6000 + 2400)
= 1000 Ã— 9100 bytes
= 9.1 MB
âœ… Very efficient!


Server Files:
â”œâ”€ WHO Standards CSV
â”‚  â””â”€ 4 files Ã— 10KB = 40KB
â”‚     Permanent: âœ… Ya (reference data)
â”‚
â””â”€ Grafik PNG (Optional)
   â””â”€ ~200KB per chart Ã— 2 charts per child
      = 400KB per child
      Permanent: âŒ Tidak (bisa dihapus & regenerate)

   Untuk 1000 anak = 400MB
   âš ï¸ Bisa hemat dengan:
   - Auto-delete grafik > 7 hari
   - Atau pakai mobile-generated charts


Mobile App:
â”œâ”€ Cache Response (Optional)
â”‚  â””â”€ Temporary untuk offline viewing
â”‚     Size: ~1-2 MB
â”‚     Permanent: âŒ Tidak (clear on logout)
â”‚
â””â”€ No Local Database
   âœ… All data from API
```

---

## ğŸ¨ Grafik: Backend vs Mobile Generated

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OPTION A: BACKEND GENERATE GRAFIK                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile                Backend                  Server Storage
  â”‚                      â”‚                           â”‚
  â”‚  GET /chart/CH001    â”‚                           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                           â”‚
  â”‚                      â”‚ 1. Query MySQL            â”‚
  â”‚                      â”‚    (get measurements)     â”‚
  â”‚                      â”‚                           â”‚
  â”‚                      â”‚ 2. Generate PNG           â”‚
  â”‚                      â”‚    with matplotlib        â”‚
  â”‚                      â”‚                           â”‚
  â”‚                      â”‚ 3. Save file              â”‚
  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                   CH001.png (200KB)
  â”‚                      â”‚                           â”‚
  â”‚  Response:           â”‚                           â”‚
  â”‚  chart_url:          â”‚                           â”‚
  â”‚  "...CH001.png"      â”‚                           â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
  â”‚                      â”‚                           â”‚
  â”‚  Download PNG        â”‚                           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                   Return PNG
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                   â”‚
  â”‚ Display image                                     â”‚
  â”‚ (200KB downloaded)                                â”‚

Pros:
  âœ… Mobile simple (just display image)
  âœ… Grafik konsisten

Cons:
  âŒ Butuh storage di server
  âŒ Slow (download image)
  âŒ Tidak interaktif


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OPTION B: MOBILE GENERATE GRAFIK (RECOMMENDED)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile                Backend                  Server Storage
  â”‚                      â”‚                           â”‚
  â”‚  GET /history/CH001  â”‚                           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                           â”‚
  â”‚                      â”‚ 1. Query MySQL            â”‚
  â”‚                      â”‚                           â”‚
  â”‚  Response: JSON      â”‚                           â”‚
  â”‚  [                   â”‚                           â”‚
  â”‚    {age:11, h:73.5}, â”‚                           â”‚
  â”‚    {age:12, h:75.0}  â”‚                           â”‚
  â”‚  ]                   â”‚                           â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
  â”‚ (2KB data)           â”‚                           â”‚
  â”‚                      â”‚                           â”‚
  â”‚ Generate chart       â”‚                           â”‚
  â”‚ with MPAndroidChart  â”‚                           â”‚
  â”‚ (locally in memory)  â”‚                           â”‚
  â”‚                      â”‚                           â”‚
  â”‚ Display chart        â”‚                           â”‚
  â”‚ (interactive!)       â”‚                           â”‚

Pros:
  âœ… No server storage needed
  âœ… Fast (small JSON)
  âœ… Interactive (zoom, pan, tooltip)
  âœ… Customizable

Cons:
  âŒ Mobile harus implement charting
```

---

## ğŸ“± Mobile Implementation Example

```kotlin
// ========================================
// OPTION B: Mobile Generate Chart
// ========================================

// 1. Get data from API
suspend fun loadGrowthChart(childId: String) {
    try {
        // Request history data
        val response = api.getHistory(childId)

        if (response.isSuccessful) {
            val history = response.body()?.data ?: emptyList()

            // Generate chart with MPAndroidChart
            generateGrowthChart(history)
        }
    } catch (e: Exception) {
        showError(e.message)
    }
}

// 2. Generate chart from data
fun generateGrowthChart(measurements: List<Measurement>) {
    // Prepare data for chart
    val heightEntries = mutableListOf<Entry>()
    val weightEntries = mutableListOf<Entry>()

    measurements.forEach { m ->
        heightEntries.add(Entry(m.age_months.toFloat(), m.height_cm))
        weightEntries.add(Entry(m.age_months.toFloat(), m.weight_kg))
    }

    // Create datasets
    val heightDataSet = LineDataSet(heightEntries, "Tinggi (cm)")
    heightDataSet.apply {
        color = Color.BLUE
        lineWidth = 2f
        setCircleColor(Color.BLUE)
        circleRadius = 4f
        setDrawValues(true)
        valueTextSize = 10f
    }

    val weightDataSet = LineDataSet(weightEntries, "Berat (kg)")
    weightDataSet.apply {
        color = Color.RED
        lineWidth = 2f
        setCircleColor(Color.RED)
        circleRadius = 4f
        setDrawValues(true)
        valueTextSize = 10f
    }

    // Set data to chart
    val lineData = LineData(heightDataSet, weightDataSet)
    lineChart.data = lineData

    // Customize chart
    lineChart.apply {
        description.text = "Grafik Pertumbuhan"
        xAxis.apply {
            position = XAxis.XAxisPosition.BOTTOM
            granularity = 1f
            valueFormatter = object : ValueFormatter() {
                override fun getFormattedValue(value: Float): String {
                    return "${value.toInt()} bln"
                }
            }
        }
        animateX(1000)
        invalidate() // Refresh
    }
}
```

---

## âœ… Kesimpulan Sederhana

### Yang Tersimpan PERMANEN di Database:

1. âœ… Data anak
2. âœ… Semua pengukuran
3. âœ… Hasil klasifikasi (Z-score, status, warnings)
4. âœ… Trend analysis

### Yang TIDAK Disimpan / Temporary:

1. âŒ Grafik (di-generate saat dibutuhkan)
2. âŒ WHO CSV (file tetap, bukan hasil generate)

### Untuk Grafik:

- **Demo/Hackathon:** Backend generate PNG (cepat implement)
- **Production:** Mobile generate dari JSON (lebih baik)

### Total Storage:

- **1000 anak Ã— 12 pengukuran = 9 MB** (database)
- **Sangat efisien!**

**Semua jelas sekarang?** ğŸ‰
